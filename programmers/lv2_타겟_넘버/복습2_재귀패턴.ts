/**
 * [Lv.2] íƒ€ê²Ÿ ë„˜ë²„ - ì¬ê·€ íŒ¨í„´ 2: ë¶„ê¸° ì¬ê·€
 *
 * ğŸ¯ ë¬¸ì œ: ìˆ«ìë¥¼ +/- í•˜ì—¬ target ë§Œë“¤ê¸°
 *
 * ğŸ“Œ ì¬ê·€ íŒ¨í„´: ë¶„ê¸° ì¬ê·€ (íŠ¸ë¦¬)
 * - ë‘ ë²ˆ ì´ìƒ ìê¸° ìì‹ ì„ í˜¸ì¶œ
 * - ì—¬ëŸ¬ ê²½ìš°ì˜ ìˆ˜ë¥¼ íƒìƒ‰
 * - íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ë»—ì–´ë‚˜ê°
 *
 * ğŸ’¡ í•µì‹¬:
 * 1. ì¢…ë£Œ ì¡°ê±´: ëª¨ë“  ìˆ«ìë¥¼ ë‹¤ ì‚¬ìš©í–ˆì„ ë•Œ
 * 2. ì¬ê·€ í˜¸ì¶œ: ë”í•˜ê¸° ê²½ìš° + ë¹¼ê¸° ê²½ìš°
 *
 * â° ì‹œê°„ ë³µì¡ë„: O(2^n) - ê° ìˆ«ìë§ˆë‹¤ 2ê°€ì§€ ì„ íƒ
 * ğŸ’¾ ê³µê°„ ë³µì¡ë„: O(n) - Call Stack ê¹Šì´
 */

function solution(numbers: number[], target: number): number {
  // TODO: ë¶„ê¸° ì¬ê·€ë¡œ êµ¬í˜„í•´ë³´ì„¸ìš”!

  // DFS í•¨ìˆ˜ ì •ì˜
  function dfs(index: number, sum: number): number {
    if (index === numbers.length) {
      return sum === target ? 1 : 0;
    }

    const plus = dfs(index + 1, sum + numbers[index]);
    const minus = dfs(index + 1, sum - numbers[index]);

    return plus + minus;
  }

  // DFS ì‹œì‘ (index=0, sum=0)
  return dfs(0, 0);
}

// í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
console.log("=== íƒ€ê²Ÿ ë„˜ë²„ (ë¶„ê¸° ì¬ê·€) í…ŒìŠ¤íŠ¸ ===\n");

console.log("í…ŒìŠ¤íŠ¸ 1:");
console.log("numbers: [1, 1, 1, 1, 1], target: 3");
console.log("ì˜ˆìƒ ê²°ê³¼: 5");
console.log("ì‹¤ì œ ê²°ê³¼:", solution([1, 1, 1, 1, 1], 3));
console.log("ê²½ìš°ì˜ ìˆ˜:");
console.log("  +1+1+1+1-1 = 3");
console.log("  +1+1+1-1+1 = 3");
console.log("  +1+1-1+1+1 = 3");
console.log("  +1-1+1+1+1 = 3");
console.log("  -1+1+1+1+1 = 3");
console.log();

console.log("í…ŒìŠ¤íŠ¸ 2:");
console.log("numbers: [4, 1, 2, 1], target: 4");
console.log("ì˜ˆìƒ ê²°ê³¼: 2");
console.log("ì‹¤ì œ ê²°ê³¼:", solution([4, 1, 2, 1], 4));
console.log("ê²½ìš°ì˜ ìˆ˜:");
console.log("  +4+1-2+1 = 4");
console.log("  +4-1+2-1 = 4");
console.log();

console.log("í…ŒìŠ¤íŠ¸ 3:");
console.log("numbers: [1, 2], target: 3");
console.log("ì˜ˆìƒ ê²°ê³¼: 1");
console.log("ì‹¤ì œ ê²°ê³¼:", solution([1, 2], 3));
console.log("ê²½ìš°ì˜ ìˆ˜:");
console.log("  +1+2 = 3");

/**
 * ğŸ’¡ ë¶„ê¸° ì¬ê·€ ì‹¤í–‰ ê³¼ì • ì´í•´í•˜ê¸°
 *
 * numbers = [1, 2], target = 3
 *
 *                  dfs(0, 0)
 *                 /         \
 *           +1: /             \ -1:
 *          dfs(1, 1)         dfs(1, -1)
 *         /         \       /          \
 *    +2:/           \-2: +2:/          \-2:
 *  dfs(2,3)    dfs(2,-1) dfs(2,1)  dfs(2,-3)
 *     â†“            â†“        â†“          â†“
 *  3==3? âœ…    -1==3? âŒ  1==3? âŒ  -3==3? âŒ
 *  return 1    return 0   return 0   return 0
 *
 * ê²°ê³¼: 1 + 0 = 1 (ì™¼ìª½ ê²½ë¡œ)
 *       0 + 0 = 0 (ì˜¤ë¥¸ìª½ ê²½ë¡œ)
 * ìµœì¢…: 1 + 0 = 1 âœ¨
 *
 *
 * ğŸŒ² íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ì´í•´í•˜ê¸°:
 *
 * - ê° ë…¸ë“œì—ì„œ 2ê°ˆë˜ë¡œ ë¶„ê¸°
 * - ì™¼ìª½: ë”í•˜ê¸°
 * - ì˜¤ë¥¸ìª½: ë¹¼ê¸°
 * - ë¦¬í”„ ë…¸ë“œ: ì¢…ë£Œ ì¡°ê±´ (ëª¨ë“  ìˆ«ì ì‚¬ìš©)
 * - ë¦¬í”„ì—ì„œ ê²°ê³¼ ë°˜í™˜
 * - ìœ„ë¡œ ì˜¬ë¼ê°€ë©° í•©ì‚°
 *
 *
 * ğŸ”‘ í•µì‹¬ í¬ì¸íŠ¸:
 *
 * 1. ì¢…ë£Œ ì¡°ê±´
 *    - index === numbers.length (ëª¨ë“  ìˆ«ì ì‚¬ìš©)
 *    - sum === targetì´ë©´ 1, ì•„ë‹ˆë©´ 0
 *
 * 2. ì¬ê·€ í˜¸ì¶œ (2ë²ˆ!)
 *    - dfs(index + 1, sum + numbers[index])  // ë”í•˜ê¸°
 *    - dfs(index + 1, sum - numbers[index])  // ë¹¼ê¸°
 *
 * 3. ê²°ê³¼ í•©ì‚°
 *    - plusWay + minusWay
 *    - ë‘ ê²½ìš°ì˜ ìˆ˜ë¥¼ ëª¨ë‘ ì„¸ê¸°
 *
 * 4. ì‹œê°„ ë³µì¡ë„
 *    - O(2^n) - ê° ìˆ«ìë§ˆë‹¤ 2ê°€ì§€ ì„ íƒ
 *    - n=5 â†’ 2^5 = 32ê°€ì§€ ê²½ìš°
 *
 *
 * ğŸ’­ ë‹¨ìˆœ ì¬ê·€ vs ë¶„ê¸° ì¬ê·€
 *
 * ë‹¨ìˆœ ì¬ê·€ (íŒ©í† ë¦¬ì–¼):
 *   factorial(5)
 *       â†“ í•œ ë²ˆë§Œ í˜¸ì¶œ
 *   factorial(4)
 *       â†“
 *   factorial(3)
 *
 * ë¶„ê¸° ì¬ê·€ (íƒ€ê²Ÿ ë„˜ë²„):
 *   dfs(0, 0)
 *     â†™     â†˜ ë‘ ë²ˆ í˜¸ì¶œ!
 *   dfs(1,+)  dfs(1,-)
 *   â†™  â†˜     â†™  â†˜
 * dfs dfs  dfs dfs
 *
 * â†’ íŠ¸ë¦¬ì²˜ëŸ¼ ë»—ì–´ë‚˜ê°!
 */
