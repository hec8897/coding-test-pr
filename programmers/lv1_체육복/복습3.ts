/**
 * ğŸ”„ [Lv.1] ì²´ìœ¡ë³µ - ë³µìŠµ 3
 *
 * ğŸ“Œ ë¬¸ì œ ìš”ì•½:
 * - ì¼ë¶€ í•™ìƒì´ ì²´ìœ¡ë³µì„ ë„ë‚œë‹¹í•¨
 * - ì—¬ë²Œ ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒì´ ë¹Œë ¤ì¤„ ìˆ˜ ìˆìŒ
 * - ë°”ë¡œ ì•ë²ˆí˜¸ ë˜ëŠ” ë’·ë²ˆí˜¸ í•™ìƒì—ê²Œë§Œ ë¹Œë ¤ì¤„ ìˆ˜ ìˆìŒ
 * - ì²´ìœ¡ìˆ˜ì—… ë“¤ì„ ìˆ˜ ìˆëŠ” í•™ìƒì˜ ìµœëŒ“ê°’ êµ¬í•˜ê¸°
 *
 * ğŸ¯ í•µì‹¬ ê°œë…:
 * - ê·¸ë¦¬ë”” ì•Œê³ ë¦¬ì¦˜
 * - ë°°ì—´ ìƒíƒœ ê´€ë¦¬
 * - ì¸ë±ìŠ¤ ì²˜ë¦¬
 *
 * ğŸ’¡ íŒíŠ¸ (ë§‰íˆë©´ í•˜ë‚˜ì”© í¼ì³ë³´ì„¸ìš”!):
 *
 * [íŒíŠ¸ 1] í•™ìƒ ìƒíƒœë¥¼ ì–´ë–»ê²Œ ê´€ë¦¬í• ê¹Œ?
 * - ë°°ì—´ì„ ë§Œë“¤ì–´ì„œ ê° í•™ìƒì˜ ì²´ìœ¡ë³µ ê°œìˆ˜ë¥¼ ì €ì¥
 * - 0: ì—†ìŒ, 1: 1ê°œ(ì •ìƒ), 2: 2ê°œ(ì—¬ë²Œ)
 *
 * [íŒíŠ¸ 2] ì´ˆê¸° ìƒíƒœëŠ”?
 * - ëª¨ë“  í•™ìƒì´ ì²´ìœ¡ë³µ 1ê°œì”© ê°€ì§€ê³  ì‹œì‘
 * - Array(n).fill(1)
 *
 * [íŒíŠ¸ 3] ë„ë‚œê³¼ ì—¬ë²Œì€ ì–´ë–»ê²Œ ì²˜ë¦¬?
 * - ë„ë‚œë‹¹í•œ í•™ìƒ: -1 (ì²´ìœ¡ë³µ ê°œìˆ˜ ê°ì†Œ)
 * - ì—¬ë²Œ ê°€ì§„ í•™ìƒ: +1 (ì²´ìœ¡ë³µ ê°œìˆ˜ ì¦ê°€)
 * - ì£¼ì˜: ì—¬ë²Œ ê°€ì§„ í•™ìƒë„ ë„ë‚œë‹¹í•  ìˆ˜ ìˆìŒ!
 *
 * [íŒíŠ¸ 4] ë¹Œë ¤ì£¼ëŠ” ë¡œì§ì€?
 * - ì•ì—ì„œë¶€í„° ìˆœíšŒí•˜ë©´ì„œ
 * - ì²´ìœ¡ë³µ ì—†ëŠ” í•™ìƒ(0)ì´ë©´
 * - ì•ë²ˆí˜¸(-1) ë˜ëŠ” ë’·ë²ˆí˜¸(+1) í•™ìƒì´ ì—¬ë²Œ(2)ì´ë©´ ë¹Œë ¤ì£¼ê¸°
 *
 * [íŒíŠ¸ 5] ì¸ë±ìŠ¤ ì£¼ì˜!
 * - í•™ìƒ ë²ˆí˜¸ëŠ” 1ë¶€í„°, ë°°ì—´ ì¸ë±ìŠ¤ëŠ” 0ë¶€í„°
 * - lost[i] â†’ students[lost[i] - 1]
 * - ë°°ì—´ ë²”ìœ„ ì²´í¬: i > 0, i < n - 1
 */

// ============================================
// ğŸš€ ì—¬ê¸°ì„œë¶€í„° ì½”ë“œë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”!
// ============================================

function solution(n: number, lost: number[], reserve: number[]): number {
  const students = Array(n).fill(1);

  lost.forEach((l) => students[l - 1]--);
  reserve.forEach((r) => students[r - 1]++);

  for (let i = 0; i < n; i++) {
    if (students[i] === 0) {
      if (i > 0 && students[i - 1] === 2) {
        students[i - 1]--;
        students[i]++;
        // ì•í•™ìƒì´ ìˆëŠ” ê²½ìš°
      } else if (i < n - 1 && students[i + 1] === 2) {
        students[i + 1]--;
        students[i]++;
      }
    }
  }

  return students.filter((s) => s > 0).length; // TODO: ì²´ìœ¡ìˆ˜ì—… ë“¤ì„ ìˆ˜ ìˆëŠ” í•™ìƒ ìˆ˜ ë°˜í™˜
}

// ============================================
// âœ… í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
// ============================================

console.log("=== ì²´ìœ¡ë³µ ë³µìŠµ3 í…ŒìŠ¤íŠ¸ ===\n");

console.log("í…ŒìŠ¤íŠ¸ 1:");
console.log("n: 5, lost: [2, 4], reserve: [1, 3, 5]");
console.log("ì˜ˆìƒ ê²°ê³¼: 5");
console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [1, 3, 5]));
console.log("ì„¤ëª…: 1ë²ˆì´ 2ë²ˆì—ê²Œ, 3ë²ˆì´ 4ë²ˆì—ê²Œ ë¹Œë ¤ì¤Œ");
console.log();

console.log("í…ŒìŠ¤íŠ¸ 2:");
console.log("n: 5, lost: [2, 4], reserve: [3]");
console.log("ì˜ˆìƒ ê²°ê³¼: 4");
console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [3]));
console.log("ì„¤ëª…: 3ë²ˆì´ 2ë²ˆ ë˜ëŠ” 4ë²ˆ ì¤‘ í•œ ëª…ì—ê²Œë§Œ ë¹Œë ¤ì¤„ ìˆ˜ ìˆìŒ");
console.log();

console.log("í…ŒìŠ¤íŠ¸ 3:");
console.log("n: 3, lost: [3], reserve: [1]");
console.log("ì˜ˆìƒ ê²°ê³¼: 2");
console.log("ì‹¤ì œ ê²°ê³¼:", solution(3, [3], [1]));
console.log("ì„¤ëª…: 1ë²ˆê³¼ 3ë²ˆì€ ë©€ì–´ì„œ ë¹Œë ¤ì¤„ ìˆ˜ ì—†ìŒ");
console.log();

console.log("í…ŒìŠ¤íŠ¸ 4 (ì¤‘ìš”!):");
console.log("n: 5, lost: [2, 4], reserve: [2, 3]");
console.log("ì˜ˆìƒ ê²°ê³¼: 5");
console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [2, 3]));
console.log(
  "ì„¤ëª…: 2ë²ˆì€ ì—¬ë²Œì´ ìˆì—ˆì§€ë§Œ ë„ë‚œë‹¹í•´ì„œ ìê¸°ê°€ ì…ìŒ, 3ë²ˆì´ 4ë²ˆì—ê²Œ ë¹Œë ¤ì¤Œ"
);
console.log();

console.log("í…ŒìŠ¤íŠ¸ 5 (ì¶”ê°€):");
console.log("n: 7, lost: [2, 3, 4], reserve: [1, 2, 5]");
console.log("ì˜ˆìƒ ê²°ê³¼: 6");
console.log("ì‹¤ì œ ê²°ê³¼:", solution(7, [2, 3, 4], [1, 2, 5]));
console.log("ì„¤ëª…: 1â†’2(X, 2ë²ˆì€ ìê¸°ê°€ ì…ìŒ), 2â†’3(X, 2ë²ˆì€ ì—¬ë²Œ ì—†ìŒ), 5â†’4(O)");

/**
 * ğŸ’­ ë³µìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸
 * ------------------------------------------
 * [ ] ë¬¸ì œë¥¼ ì½ê³  ì´í•´í–ˆë‚˜ìš”?
 * [ ] ë°°ì—´ ì´ˆê¸°í™”ë¥¼ ì˜¬ë°”ë¥´ê²Œ í–ˆë‚˜ìš”?
 * [ ] ë„ë‚œ/ì—¬ë²Œ ì²˜ë¦¬ ìˆœì„œë¥¼ ì´í•´í–ˆë‚˜ìš”?
 * [ ] ì¸ë±ìŠ¤ ë³€í™˜ì„ ì˜¬ë°”ë¥´ê²Œ í–ˆë‚˜ìš”? (í•™ìƒë²ˆí˜¸ - 1)
 * [ ] ë°°ì—´ ë²”ìœ„ ì²´í¬ë¥¼ í–ˆë‚˜ìš”?
 * [ ] ì—£ì§€ ì¼€ì´ìŠ¤ë¥¼ ê³ ë ¤í–ˆë‚˜ìš”?
 *     - ì—¬ë²Œ ê°€ì§„ í•™ìƒì´ ë„ë‚œë‹¹í•œ ê²½ìš°
 *     - ë¹Œë ¤ì¤„ ìˆ˜ ì—†ëŠ” ê²½ìš° (ê±°ë¦¬ê°€ ë¨¼ ê²½ìš°)
 *     - ì²« ë²ˆì§¸/ë§ˆì§€ë§‰ í•™ìƒ
 * [ ] ì‹œê°„ ë³µì¡ë„ë¥¼ ê³„ì‚°í–ˆë‚˜ìš”? O(n)
 */

/**
 * ğŸ“ ë³µìŠµ ë…¸íŠ¸ ì‘ì„± ê³µê°„
 * ------------------------------------------
 * ì´ë²ˆ ë³µìŠµì—ì„œ ë°°ìš´ ì :
 * -
 *
 * ì–´ë ¤ì› ë˜ ë¶€ë¶„:
 * -
 *
 * ë‹¤ìŒì— ì£¼ì˜í•  ì :
 * -
 */

// ============================================
// ğŸ’¡ ì •ë‹µ ì½”ë“œ (ë§‰íˆë©´ ì°¸ê³ í•˜ì„¸ìš”!)
// ============================================

/*

function solution(n: number, lost: number[], reserve: number[]): number {
  // 1. í•™ìƒë“¤ì˜ ì²´ìœ¡ë³µ ìƒíƒœ ë°°ì—´ (ëª¨ë‘ 1ê°œì”© ì‹œì‘)
  const students = Array(n).fill(1);
  
  // 2. ë„ë‚œë‹¹í•œ í•™ìƒ ì²˜ë¦¬ (-1)
  lost.forEach((l) => students[l - 1]--);
  
  // 3. ì—¬ë²Œ ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒ ì²˜ë¦¬ (+1)
  reserve.forEach((r) => students[r - 1]++);
  
  // 4. ì²´ìœ¡ë³µ ë¹Œë ¤ì£¼ê¸°
  for (let i = 0; i < n; i++) {
    if (students[i] === 0) {
      // ì²´ìœ¡ë³µì´ ì—†ëŠ” í•™ìƒ
      
      // ì•ë²ˆí˜¸ í•™ìƒì´ ì—¬ë²Œì´ ìˆëŠ” ê²½ìš°
      if (i > 0 && students[i - 1] === 2) {
        students[i]++;      // ë¹Œë ¤ë°›ìŒ
        students[i - 1]--;  // ë¹Œë ¤ì¤Œ
      }
      // ë’·ë²ˆí˜¸ í•™ìƒì´ ì—¬ë²Œì´ ìˆëŠ” ê²½ìš°
      else if (i < n - 1 && students[i + 1] === 2) {
        students[i]++;      // ë¹Œë ¤ë°›ìŒ
        students[i + 1]--;  // ë¹Œë ¤ì¤Œ
      }
    }
  }
  
  // 5. ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒ ìˆ˜ ì„¸ê¸°
  return students.filter((s) => s > 0).length;
}

*/

/**
 * ğŸ¯ í•µì‹¬ ì •ë¦¬
 * ------------------------------------------
 *
 * 1ï¸âƒ£ ë°°ì—´ ìƒíƒœ ê´€ë¦¬
 *    - 0: ì²´ìœ¡ë³µ ì—†ìŒ
 *    - 1: ì²´ìœ¡ë³µ 1ê°œ (ì •ìƒ)
 *    - 2: ì²´ìœ¡ë³µ 2ê°œ (ì—¬ë²Œ)
 *
 * 2ï¸âƒ£ ì²˜ë¦¬ ìˆœì„œ
 *    â‘  ë°°ì—´ ì´ˆê¸°í™” (ëª¨ë‘ 1)
 *    â‘¡ ë„ë‚œ ì²˜ë¦¬ (-1)
 *    â‘¢ ì—¬ë²Œ ì²˜ë¦¬ (+1)
 *    â‘£ ë¹Œë ¤ì£¼ê¸° (ì•ì—ì„œë¶€í„°)
 *    â‘¤ ì¹´ìš´íŒ…
 *
 * 3ï¸âƒ£ ê·¸ë¦¬ë”” ì „ëµ
 *    - ì•ì—ì„œë¶€í„° ìˆœíšŒ
 *    - ì²´ìœ¡ë³µ ì—†ëŠ” í•™ìƒ ë°œê²¬ ì‹œ
 *    - ì•ë²ˆí˜¸ ìš°ì„ , ì—†ìœ¼ë©´ ë’·ë²ˆí˜¸
 *
 * 4ï¸âƒ£ ì¸ë±ìŠ¤ ì²˜ë¦¬
 *    - í•™ìƒ ë²ˆí˜¸: 1ë¶€í„° ì‹œì‘
 *    - ë°°ì—´ ì¸ë±ìŠ¤: 0ë¶€í„° ì‹œì‘
 *    - ë³€í™˜: í•™ìƒë²ˆí˜¸ - 1
 *
 * 5ï¸âƒ£ ê²½ê³„ ì¡°ê±´
 *    - i > 0: ì•ë²ˆí˜¸ í•™ìƒ ìˆëŠ”ì§€ í™•ì¸
 *    - i < n - 1: ë’·ë²ˆí˜¸ í•™ìƒ ìˆëŠ”ì§€ í™•ì¸
 *    - ì—¬ë²Œ ê°€ì§„ í•™ìƒë„ ë„ë‚œë‹¹í•  ìˆ˜ ìˆìŒ!
 *
 * 6ï¸âƒ£ ì‹¤ìˆ˜ ì£¼ì˜
 *    - Array(n).fill(1) ê´„í˜¸ ì£¼ì˜
 *    - forEachì—ì„œ ì¸ë±ìŠ¤ ë³€í™˜: l - 1
 *    - else ifë¡œ ì•ë²ˆí˜¸ ìš°ì„  ì²˜ë¦¬
 *    - filter((s) => s > 0) ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒë§Œ
 *
 * 7ï¸âƒ£ ì‹œê°„ ë³µì¡ë„
 *    - ë°°ì—´ ì´ˆê¸°í™”: O(n)
 *    - lost ìˆœíšŒ: O(l)
 *    - reserve ìˆœíšŒ: O(r)
 *    - í•™ìƒ ìˆœíšŒ: O(n)
 *    - filter: O(n)
 *    - ì „ì²´: O(n)
 */
