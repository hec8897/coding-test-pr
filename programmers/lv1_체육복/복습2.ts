/**
 * [Lv.1] ì²´ìœ¡ë³µ - ë³µìŠµ 2
 *
 * ğŸ“Œ ë¬¸ì œ ìš”ì•½:
 * - ë„ë‚œë‹¹í•œ í•™ìƒì´ ì•ë’¤ í•™ìƒì—ê²Œì„œ ì²´ìœ¡ë³µì„ ë¹Œë¦´ ìˆ˜ ìˆìŒ
 * - ì²´ìœ¡ìˆ˜ì—…ì„ ë“¤ì„ ìˆ˜ ìˆëŠ” í•™ìƒì˜ ìµœëŒ“ê°’ êµ¬í•˜ê¸°
 *
 * ğŸ’¡ í•µì‹¬ ê°œë…: Greedy (íƒìš• ì•Œê³ ë¦¬ì¦˜)
 * 1. í•™ìƒë“¤ì˜ ì²´ìœ¡ë³µ ìƒíƒœ ë°°ì—´ ë§Œë“¤ê¸°
 * 2. ë„ë‚œë‹¹í•œ í•™ìƒ ì²˜ë¦¬ (-1)
 * 3. ì—¬ë²Œ ìˆëŠ” í•™ìƒ ì²˜ë¦¬ (+1)
 * 4. ì•ë²ˆí˜¸ë¶€í„° ë¹Œë ¤ì£¼ê¸° (ê·¸ë¦¬ë””!)
 *
 * âš ï¸ ì£¼ì˜ì‚¬í•­:
 * - ì—¬ë²Œ ì²´ìœ¡ë³µì´ ìˆëŠ” í•™ìƒë„ ë„ë‚œë‹¹í•  ìˆ˜ ìˆìŒ!
 * - ì•ë²ˆí˜¸ í•™ìƒ ìš°ì„  í™•ì¸ (ê·¸ë¦¬ë”” ì„ íƒ)
 * - ì¸ë±ìŠ¤ ë²”ìœ„ ì²´í¬ í•„ìˆ˜!
 *
 * ğŸ¯ ëª©í‘œ ì‹œê°„: 15ë¶„
 */

/**
 * ë¬¸ì œ ì´í•´:
 * - ì „ì²´ í•™ìƒ nëª…
 * - lost: ë„ë‚œë‹¹í•œ í•™ìƒë“¤ ë²ˆí˜¸
 * - reserve: ì—¬ë²Œ ìˆëŠ” í•™ìƒë“¤ ë²ˆí˜¸
 * - ë¹Œë ¤ì£¼ê¸° ê·œì¹™: ì•ë²ˆí˜¸(-1) ë˜ëŠ” ë’·ë²ˆí˜¸(+1)ë§Œ ê°€ëŠ¥
 *
 * ìƒíƒœ í‘œí˜„:
 * - 0: ì²´ìœ¡ë³µ ì—†ìŒ (ë„ë‚œ)
 * - 1: ì²´ìœ¡ë³µ 1ê°œ (ì •ìƒ)
 * - 2: ì²´ìœ¡ë³µ 2ê°œ (ì—¬ë²Œ)
 */

/**
 * ë¬¸ì œ í’€ì´
 * ì „ì²´ í•™ìƒ n
 * ìƒì–´ë²„ë¦° í•™ìƒ lost
 * ì—¬ë²Œì´ ìˆëŠ” í•™ìƒ reserve
 * ì•ë’¤ë¡œë§Œ ë¹Œë ¤ì¤„ìˆ˜ìˆìŒ
 */

function solution(n: number, lost: number[], reserve: number[]): number {
  const students = Array(n).fill(1);

  lost.forEach((l) => students[l]--);
  reserve.forEach((r) => students[r]++);

  for (let i = 0; i < n; i++) {
    if (students[i] === 0) {
      if (i > 0 && students[i - 1] === 2) {
        students[i]++;
        students[i - 1]--;
      } else if (i < n - 1 && students[i + 1] === 2) {
        students[i]++;
        students[i + 1]--;
      }
    }
  }

  return students.filter((s) => s > 0).length;
}

solution(5, [2, 4], [1, 3, 5]);
// // í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
// console.log("=== ì²´ìœ¡ë³µ ë³µìŠµ 2 ===\n");

// console.log("í…ŒìŠ¤íŠ¸ 1:");
// console.log("n: 5, lost: [2, 4], reserve: [1, 3, 5]");
// console.log("ì˜ˆìƒ ê²°ê³¼: 5");
// console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [1, 3, 5]));
// console.log("ì„¤ëª…: 1ë²ˆâ†’2ë²ˆ, 3ë²ˆâ†’4ë²ˆ, 5ë²ˆì€ ê·¸ëŒ€ë¡œ");
// console.log();

// console.log("í…ŒìŠ¤íŠ¸ 2:");
// console.log("n: 5, lost: [2, 4], reserve: [3]");
// console.log("ì˜ˆìƒ ê²°ê³¼: 4");
// console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [3]));
// console.log("ì„¤ëª…: 3ë²ˆâ†’2ë²ˆ ë˜ëŠ” 4ë²ˆ (í•œ ëª…ë§Œ ë¹Œë ¤ì¤„ ìˆ˜ ìˆìŒ)");
// console.log();

// console.log("í…ŒìŠ¤íŠ¸ 3:");
// console.log("n: 3, lost: [3], reserve: [1]");
// console.log("ì˜ˆìƒ ê²°ê³¼: 2");
// console.log("ì‹¤ì œ ê²°ê³¼:", solution(3, [3], [1]));
// console.log("ì„¤ëª…: 1ë²ˆì€ 3ë²ˆì—ê²Œ ì¤„ ìˆ˜ ì—†ìŒ (ê±°ë¦¬ 2)");
// console.log();

// console.log("í…ŒìŠ¤íŠ¸ 4 (ì¤‘ìš”!):");
// console.log("n: 5, lost: [2, 4], reserve: [2, 3]");
// console.log("ì˜ˆìƒ ê²°ê³¼: 5");
// console.log("ì‹¤ì œ ê²°ê³¼:", solution(5, [2, 4], [2, 3]));
// console.log("ì„¤ëª…: 2ë²ˆì€ ì—¬ë²Œì´ ìˆì§€ë§Œ ë„ë‚œë‹¹í•¨ â†’ ìê¸°ê°€ ì…ìŒ");
// console.log();

/**
 * ğŸ’¡ í’€ì´ ì „ëµ (ë‹¨ê³„ë³„)
 *
 * 1ë‹¨ê³„: í•™ìƒë“¤ ìƒíƒœ ë°°ì—´ ì´ˆê¸°í™”
 *    const students = Array(n).fill(1);
 *    // [1, 1, 1, 1, 1] - ëª¨ë‘ ì²´ìœ¡ë³µ 1ê°œì”©
 *
 * 2ë‹¨ê³„: ë„ë‚œë‹¹í•œ í•™ìƒ ì²˜ë¦¬
 *    for (let num of lost) {
 *      students[num - 1]--;  // ì¸ë±ìŠ¤ ì¡°ì •!
 *    }
 *    // lost = [2, 4]
 *    // [1, 0, 1, 0, 1]
 *
 * 3ë‹¨ê³„: ì—¬ë²Œ ìˆëŠ” í•™ìƒ ì²˜ë¦¬
 *    for (let num of reserve) {
 *      students[num - 1]++;
 *    }
 *    // reserve = [1, 3, 5]
 *    // [2, 0, 2, 0, 2]
 *
 * 4ë‹¨ê³„: ë¹Œë ¤ì£¼ê¸° (í•µì‹¬!)
 *    for (let i = 0; i < n; i++) {
 *      if (students[i] === 0) {  // ì²´ìœ¡ë³µ ì—†ëŠ” í•™ìƒ
 *        // ì•ë²ˆí˜¸ í™•ì¸
 *        if (i > 0 && students[i - 1] === 2) {
 *          students[i]++;
 *          students[i - 1]--;
 *        }
 *        // ë’·ë²ˆí˜¸ í™•ì¸
 *        else if (i < n - 1 && students[i + 1] === 2) {
 *          students[i]++;
 *          students[i + 1]--;
 *        }
 *      }
 *    }
 *
 * 5ë‹¨ê³„: ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒ ì¹´ìš´íŠ¸
 *    return students.filter(s => s > 0).length;
 *
 *
 * ğŸ”‘ í•µì‹¬ í¬ì¸íŠ¸:
 *
 * 1. ì—¬ë²Œ ìˆëŠ” í•™ìƒë„ ë„ë‚œë‹¹í•  ìˆ˜ ìˆìŒ!
 *    lost: [2], reserve: [2]
 *    â†’ 2ë²ˆ í•™ìƒ: 2ê°œ - 1ê°œ = 1ê°œ (ìê¸°ë§Œ ì…ìŒ)
 *
 * 2. ì•ë²ˆí˜¸ ìš°ì„  (Greedy)
 *    if (ì•ë²ˆí˜¸) { ... }
 *    else if (ë’·ë²ˆí˜¸) { ... }
 *
 * 3. ì¸ë±ìŠ¤ ë²”ìœ„ ì²´í¬
 *    i > 0           // ì²« ë²ˆì§¸ í•™ìƒ
 *    i < n - 1       // ë§ˆì§€ë§‰ í•™ìƒ
 *
 *
 * ğŸ“Š ë™ì‘ ê³¼ì • ì˜ˆì‹œ:
 *
 * n=5, lost=[2,4], reserve=[1,3,5]
 *
 * ì´ˆê¸°: [1, 1, 1, 1, 1]
 * ë„ë‚œ: [1, 0, 1, 0, 1]
 * ì—¬ë²Œ: [2, 0, 2, 0, 2]
 *
 * ë¹Œë ¤ì£¼ê¸°:
 * i=0: students[0]=2 (ì—¬ë²Œ) â†’ íŒ¨ìŠ¤
 * i=1: students[1]=0 (ë„ë‚œ!)
 *      ì•(i=0): 2 ìˆìŒ âœ… â†’ ë¹Œë ¤ì¤Œ
 *      â†’ [1, 1, 2, 0, 2]
 * i=2: students[2]=2 (ì—¬ë²Œ) â†’ íŒ¨ìŠ¤
 * i=3: students[3]=0 (ë„ë‚œ!)
 *      ì•(i=2): 2 ìˆìŒ âœ… â†’ ë¹Œë ¤ì¤Œ
 *      â†’ [1, 1, 1, 1, 2]
 * i=4: students[4]=2 (ì—¬ë²Œ) â†’ íŒ¨ìŠ¤
 *
 * ìµœì¢…: [1, 1, 1, 1, 2]
 * ì²´ìœ¡ë³µ ìˆëŠ” í•™ìƒ: 5ëª… âœ…
 *
 *
 * âš ï¸ ìì£¼ í•˜ëŠ” ì‹¤ìˆ˜:
 *
 * 1. lostì™€ reserveì— ê°™ì€ ë²ˆí˜¸ê°€ ìˆì„ ë•Œ ì²˜ë¦¬ ì•ˆ í•¨
 *    â†’ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ë©´ ìë™ìœ¼ë¡œ í•´ê²°ë¨!
 *
 * 2. ì¸ë±ìŠ¤ ë²”ìœ„ ì²´í¬ ì•ˆ í•¨
 *    âŒ students[i - 1]  // i=0ì¼ ë•Œ ì—ëŸ¬!
 *    âœ… i > 0 && students[i - 1]
 *
 * 3. ë’·ë²ˆí˜¸ë„ ë¨¼ì € í™•ì¸
 *    âŒ if (ë’·ë²ˆí˜¸) ... else if (ì•ë²ˆí˜¸)
 *    âœ… if (ì•ë²ˆí˜¸) ... else if (ë’·ë²ˆí˜¸)
 */

export default solution;
